<!DOCTYPE html>
<html>
    <head>
        <title>Template Selector | Automated Testing</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="css/testing.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
        <script src="../../assets/js/html5shiv.js"></script>
        <script src="../../assets/js/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>

    <div class="container">
        <div class="row">
            <div>
                <center><img id="ajax-image" src="img/ajax.gif" style="display:none" /></center>
                <center><img id="ajax-image-static" src="img/ajax-static.gif" /></center>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12" id="content"></div>
        </div>
    </div>

    <!-- Handlebars Templates -->
    <script id="template-loader-template" type="text/x-handlebars-template">
        <div class="container">
            <div class="row">
                <div class="col-md-3" style="min-height:650px">
                    <h2>Load Template</h2>

                    <table class="table table-bordered table-hover">
                        <!-- For each template, create a row and cell... -->
                        {{#each templates}}
                        <tr>
                            <td><a class="templateSelect" href="#" style="text-decoration:none; color:#333">{{attributes.filename}}</a></td>
                        </tr>
                        {{/each}}
                    </table>

                    <button type="button" class="btn btn-default">Edit Template</button>
                    <button type="button" class="btn btn-primary">Load Template</button>
                </div>

                <div class="col-md-9">
                    <h2>Create Template</h2>

                    <form id="template-form" role="form" enctype="multipart/form-data">
                        <h3>Template Name</h3>
                        <div class="form-group">
                            <input type="text" id="template-name" name="template-name">
                        </div>

                        <h3>Expected Output</h3>
                        <div class="form-group">
                            <label for="input-script">Upload Input Script</label>
                            <input type="file" id="input-script" name="script">
                        </div>

                        <div class="form-group">
                            <label for="output-key">Upload Output Key</label>
                            <input type="file" id="output-key" name="key">
                        </div>

                        <h3>Instructor Compilation Files <small>(batch upload)</small></h3>
                        <div class="form-group">
                            <label for="instructor-files">Upload Compile File(s)</label>
                            <input type="file" id="instructor-files" name="instructor-files" multiple>
                        </div>

                        <div class="form-group">
                            <label for="required-files"><h3>Files Required for Compilation <small>(comma-separated)</small></h3></label>
                            <br>
                            <textarea id="required-files" name="required" cols="40" rows="5"></textarea>
                        </div>

                        <h3>File to be diffed with student's code</h3>
                        <div class="form-group">
                            <label for="diff-file">Upload Diff File</label>
                            <input type="file" id="diff-file" name="diff" style="margin-bottom:5px">
                        </div>

                        <h3>Code Review Parameters</h3>
                        <div class="checkbox">
                            <label><input type="checkbox" name="var-check">Check for descriptive non-integer variable names</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" name="comment-check">Check for comments describing functions and variable declarations</label>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox" name="indent-check">Check for indentation</label>
                        </div>

                        <button type="submit" class="btn btn-primary">Save Template</button>
                    </form>
                </div>
            </div>
        </div>
    </script>

    <!-- JavaScript includes -->
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/json2.js"></script>
    <script type="text/javascript" src="js/underscore.js"></script>
    <script type="text/javascript" src="js/backbone.js"></script>
    <script type="text/javascript" src="js/handlebars.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>

    <script>
        /* Ajax loading wheel */
        $('#ajax-image')
            .hide()
            .ajaxStart(function() {
                $(this).show();
            })
            .ajaxStop(function() {
                $(this).hide();
            })
        ;
        $('#ajax-image-static')
            .hide()
            .ajaxStart(function() {
                $(this).hide();
            })
            .ajaxStop(function() {
                $(this).show();
            })
        ;
    </script>

    <!-- Load Backbone.js Application --!>
    <script>
        $.ajax({
            url: 'js/app.js',
            dataType: 'script',
            error: function() {
                //window.location.reload(true);
            }
        });
    </script>

  </body>
</html>
